/*!
 * Animate Video Player (v1.0.1.20161208), http://tpkn.me/
 */
function AnimateVideoPlayer(n){function e(n,e,t){n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent("on"+e,function(){return t.call(n,window.event)})}function t(n,e){switch(Object.prototype.toString.call(n)){case"[object Array]":case"[object Object]":case"[object String]":case"[object Boolean]":case"[object Function]":return n;case"[object Number]":return!!n;default:return e}}function o(){l.paused&&l.play()}function i(){l.paused||l.pause()}function a(){N.REPLAY(),U.REPLAY();var n=l.ended;l.currentTime=0,n&&l.play()}function r(){l.muted=!0}function c(){l.muted=!1}function u(){l.paused&&!l.ended?o():i(),l.ended&&a()}function E(){l.muted?c():r()}if(!n||!n.videos)throw new Error("No config or nothing to play");var l,A,d,p,f,s,b=!!n.loop&&n.loop,D=!n.muted||n.muted,T=!!n.autoplay&&n.autoplay,R=n.callbacks||{},P=n.controls||{},v="string"==typeof n.preload&&n.preload.length>0?n.preload:"auto",_={fn:function(n){},visible:!1,gotoAndStop:function(n){}},y={INIT:function(){e(l,"error",y.ERROR),e(l,"loadedmetadata",y.LOADEDMETADATA),e(l,"playing",y.PLAYING),e(l,"progress",y.PROGRESS),e(l,"timeupdate",y.TIMEUPDATE),e(l,"ended",y.ENDED),e(l,"pause",y.PAUSE),e(l,"play",y.PLAY),e(l,"volumechange",y.VOLUMECHANGE)},ERROR:function(n){var e=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][n.target.error.code-1];U.ERROR("Error: "+e)},LOADEDMETADATA:function(n){N.START(),U.META(n)},PLAYING:function(n){N.PLAYING(),U.PLAYING(n)},PROGRESS:function(n){U.READY(n)},TIMEUPDATE:function(n){U.UPDATE(n)},ENDED:function(n){b?(a(),U.REPLAY()):(U.END(n),N.ENDED())},PAUSE:function(n){N.PAUSED(),U.PAUSE(n)},PLAY:function(n){s.visible&&(s.visible=!1),N.PLAYING(),U.PLAY(n)},VOLUMECHANGE:function(n){n.target.muted?(0,N.MUTED(),U.MUTE(n)):(n.target.volume,N.UNMUTED(),U.UNMUTE(n))}},N={INIT:function(){P.play_btn?(e(A=P.play_btn,"click",u),A.visible=!1):A=_,P.sound_btn?(e(d=P.sound_btn,"click",E),d.visible=!1):d=_,P.replay_btn?(e(p=P.replay_btn,"click",a),p.visible=!1):p=_,f=P.preloader_mc?P.preloader_mc:_,s=P.poster_mc?P.poster_mc:_,T&&(f.visible=!0)},START:function(){A.visible=!0,d.visible=!0,l.autoplay?N.PLAYING():N.PAUSED(),l.muted?N.MUTED():N.UNMUTED(),f.visible=!1},PLAYING:function(){A.gotoAndStop(1)},PAUSED:function(){A.gotoAndStop(0)},MUTED:function(){d.gotoAndStop(1)},UNMUTED:function(){d.gotoAndStop(0)},ENDED:function(){A.visible=!1,d.visible=!1,p.visible=!0},REPLAY:function(){A.visible=!0,d.visible=!0,p.visible=!1}},U={META:t(R.on_meta,_.fn),READY:t(R.on_ready,_.fn),START:t(R.on_start,_.fn),END:t(R.on_end,_.fn),REPLAY:t(R.on_replay,_.fn),PLAYING:t(R.on_playing,_.fn),UPDATE:t(R.on_update,_.fn),PLAY:t(R.on_play,_.fn),PAUSE:t(R.on_pause,_.fn),MUTE:t(R.on_mute,_.fn),UNMUTE:t(R.on_unmute,_.fn),ERROR:t(R.on_error,_.fn)};return(l=document.createElement("video")).setAttribute("src",function(n){var e;if("[object Array]"===Object.prototype.toString.call(n)){for(var t=0,o=n.length;t<o;t++)if(l.canPlayType(n[t].replace(/^.+\./gi,"video/"))){e=n[t];break}}else"[object String]"===Object.prototype.toString.call(n)&&l.canPlayType(n.replace(/^.+\./gi,"video/"))&&(e=n);return e}(n.videos)),n.container&&"object"==typeof n.container&&n.container.appendChild(l),l.muted=D,l.preload=v,l.autoplay=T,l.controls=!1,y.INIT(),N.INIT(),{video:l,play:o,pause:i,restart:a,mute:r,unmute:c,togglePlay:u,toggleMute:E}}