/*!
 * Animate Video Player (v1.1.2.20170817), http://tpkn.me/
 */
function AnimateVideoPlayer(n){function t(n,t,o){n.addEventListener?n.addEventListener(t,o,!1):n.attachEvent("on"+t,function(){return o.call(n,window.event)})}function o(n,t,o){return typeof n===t?n:o}function e(n,t){var o;if("[object Array]"===Object.prototype.toString.call(t))for(var e=0,i=t.length;e<i;e++)o=document.createElement("source"),o.src=t[e],n.appendChild(o);else"[object String]"===Object.prototype.toString.call(t)&&(o=document.createElement("source"),o.src=t,n.appendChild(o))}function i(){l.paused&&l.play()}function c(){l.paused||l.pause()}function u(){g.REPLAY(),S.REPLAY();var n=l.ended;l.currentTime=0,n&&l.play()}function r(){l.muted=!0}function a(){l.muted=!1}function E(){l.paused&&!l.ended?i():c(),l.ended&&u()}function f(){l.muted?a():r()}if("object"!=typeof n)throw console.error("No config");if(!n.container||"function"!=typeof n.container.gotoAndStop)throw console.error("No container object");if(!n.videos)throw console.error("Nothing to play");var l,d,p,A,s,D,R,T=n.container,P="undefined"!=typeof n.loop&&n.loop,v="undefined"==typeof n.muted||n.muted,_="undefined"!=typeof n.autoplay&&n.autoplay,m=n.callbacks||{},y=n.controls||{},N="string"==typeof n.preload&&n.preload.length>0?n.preload:"auto",b={fn:function(n){},visible:!1,gotoAndStop:function(n){}},U={INIT:function(){t(l,"error",U.ERROR),t(l,"loadedmetadata",U.LOADEDMETADATA),t(l,"playing",U.PLAYING),t(l,"progress",U.PROGRESS),t(l,"timeupdate",U.TIMEUPDATE),t(l,"ended",U.ENDED),t(l,"pause",U.PAUSE),t(l,"play",U.PLAY),t(l,"volumechange",U.VOLUMECHANGE)},ERROR:function(n){var t=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][n.target.error.code-1];S.ERROR("Error: "+t)},LOADEDMETADATA:function(n){g.START(),S.META(n)},PLAYING:function(n){g.PLAYING(),S.PLAYING(n)},PROGRESS:function(n){S.READY(n)},TIMEUPDATE:function(n){S.UPDATE(n)},ENDED:function(n){P?(u(),S.REPLAY()):(S.END(n),g.ENDED())},PAUSE:function(n){g.PAUSED(),S.PAUSE(n)},PLAY:function(n){R.visible&&(R.visible=!1),g.PLAYING(),S.PLAY(n)},VOLUMECHANGE:function(n){var t;n.target.muted?(t=0,g.MUTED(),S.MUTE(n)):(t=n.target.volume,g.UNMUTED(),S.UNMUTE(n))}},g={INIT:function(){y.play_btn?(p=y.play_btn,t(p,"click",E),p.visible=!1):p=b,y.sound_btn?(A=y.sound_btn,t(A,"click",f),A.visible=!1):A=b,y.replay_btn?(s=y.replay_btn,t(s,"click",u),s.visible=!1):s=b,D=y.preloader_mc?y.preloader_mc:b,R=y.poster_mc?y.poster_mc:b,_&&(D.visible=!0)},START:function(){p.visible=!0,A.visible=!0,l.autoplay?g.PLAYING():g.PAUSED(),l.muted?g.MUTED():g.UNMUTED(),D.visible=!1},PLAYING:function(){p.gotoAndStop(1)},PAUSED:function(){p.gotoAndStop(0)},MUTED:function(){A.gotoAndStop(1)},UNMUTED:function(){A.gotoAndStop(0)},ENDED:function(){p.visible=!1,A.visible=!1,s.visible=!0},REPLAY:function(){p.visible=!0,A.visible=!0,s.visible=!1}},S={META:o(m.on_meta,"function",b.fn),READY:o(m.on_ready,"function",b.fn),START:o(m.on_start,"function",b.fn),END:o(m.on_end,"function",b.fn),REPLAY:o(m.on_replay,"function",b.fn),PLAYING:o(m.on_playing,"function",b.fn),UPDATE:o(m.on_update,"function",b.fn),PLAY:o(m.on_play,"function",b.fn),PAUSE:o(m.on_pause,"function",b.fn),MUTE:o(m.on_mute,"function",b.fn),UNMUTE:o(m.on_unmute,"function",b.fn),ERROR:o(m.on_error,"function",b.fn)};return l=document.createElement("video"),e(l,n.videos),l.muted=v,l.preload=N,l.autoplay=_,d=new createjs.Bitmap(l),T.addChild(d),U.INIT(),g.INIT(),{video:l,play:i,pause:c,restart:u,mute:r,unmute:a,togglePlay:E,toggleMute:f}}