/*!
 * Animate Video Player (v1.1.2.20170817), http://tpkn.me/
 */
function AnimateVideoPlayer(n){function t(n,t,o){n.addEventListener?n.addEventListener(t,o,!1):n.attachEvent("on"+t,function(){return o.call(n,window.event)})}function o(n,t,o){return typeof n===t?n:o}function e(){l.paused&&l.play()}function i(){l.paused||l.pause()}function c(){y.REPLAY(),g.REPLAY();var n=l.ended;l.currentTime=0,n&&l.play()}function u(){l.muted=!0}function r(){l.muted=!1}function a(){l.paused&&!l.ended?e():i(),l.ended&&c()}function E(){l.muted?r():u()}if("object"!=typeof n)throw new Error("No config");if(!n.container||"function"!=typeof n.container.gotoAndStop)throw new Error("No container object");if(!n.videos)throw new Error("Nothing to play");var l,f,d,A,p,s,D,R=n.container,T=void 0!==n.loop&&n.loop,v=void 0===n.muted||n.muted,P=void 0!==n.autoplay&&n.autoplay,_=n.callbacks||{},m=n.controls||{},N="string"==typeof n.preload&&n.preload.length>0?n.preload:"auto",b={fn:function(n){},visible:!1,gotoAndStop:function(n){}},U={INIT:function(){t(l,"error",U.ERROR),t(l,"loadedmetadata",U.LOADEDMETADATA),t(l,"playing",U.PLAYING),t(l,"progress",U.PROGRESS),t(l,"timeupdate",U.TIMEUPDATE),t(l,"ended",U.ENDED),t(l,"pause",U.PAUSE),t(l,"play",U.PLAY),t(l,"volumechange",U.VOLUMECHANGE)},ERROR:function(n){var t=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][n.target.error.code-1];g.ERROR("Error: "+t)},LOADEDMETADATA:function(n){y.START(),g.META(n)},PLAYING:function(n){y.PLAYING(),g.PLAYING(n)},PROGRESS:function(n){g.READY(n)},TIMEUPDATE:function(n){g.UPDATE(n)},ENDED:function(n){T?(c(),g.REPLAY()):(g.END(n),y.ENDED())},PAUSE:function(n){y.PAUSED(),g.PAUSE(n)},PLAY:function(n){D.visible&&(D.visible=!1),y.PLAYING(),g.PLAY(n)},VOLUMECHANGE:function(n){n.target.muted?(0,y.MUTED(),g.MUTE(n)):(n.target.volume,y.UNMUTED(),g.UNMUTE(n))}},y={INIT:function(){m.play_btn?(t(d=m.play_btn,"click",a),d.visible=!1):d=b,m.sound_btn?(t(A=m.sound_btn,"click",E),A.visible=!1):A=b,m.replay_btn?(t(p=m.replay_btn,"click",c),p.visible=!1):p=b,s=m.preloader_mc?m.preloader_mc:b,D=m.poster_mc?m.poster_mc:b,P&&(s.visible=!0)},START:function(){d.visible=!0,A.visible=!0,l.autoplay?y.PLAYING():y.PAUSED(),l.muted?y.MUTED():y.UNMUTED(),s.visible=!1},PLAYING:function(){d.gotoAndStop(1)},PAUSED:function(){d.gotoAndStop(0)},MUTED:function(){A.gotoAndStop(1)},UNMUTED:function(){A.gotoAndStop(0)},ENDED:function(){d.visible=!1,A.visible=!1,p.visible=!0},REPLAY:function(){d.visible=!0,A.visible=!0,p.visible=!1}},g={META:o(_.on_meta,"function",b.fn),READY:o(_.on_ready,"function",b.fn),START:o(_.on_start,"function",b.fn),END:o(_.on_end,"function",b.fn),REPLAY:o(_.on_replay,"function",b.fn),PLAYING:o(_.on_playing,"function",b.fn),UPDATE:o(_.on_update,"function",b.fn),PLAY:o(_.on_play,"function",b.fn),PAUSE:o(_.on_pause,"function",b.fn),MUTE:o(_.on_mute,"function",b.fn),UNMUTE:o(_.on_unmute,"function",b.fn),ERROR:o(_.on_error,"function",b.fn)};return l=document.createElement("video"),function(n,t){var o;if("[object Array]"===Object.prototype.toString.call(t))for(var e=0,i=t.length;e<i;e++)(o=document.createElement("source")).src=t[e],n.appendChild(o);else"[object String]"===Object.prototype.toString.call(t)&&((o=document.createElement("source")).src=t,n.appendChild(o))}(l,n.videos),l.muted=v,l.preload=N,l.autoplay=P,f=new createjs.Bitmap(l),R.addChild(f),U.INIT(),y.INIT(),{video:l,play:e,pause:i,restart:c,mute:u,unmute:r,togglePlay:a,toggleMute:E}}