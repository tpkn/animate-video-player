/*!
 * Animate Video Player (v1.1.0.20170717), http://tpkn.me/
 */
function AnimateVideoPlayer(e){function n(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,function(){return t.call(e,window.event)})}function t(e,n){switch(Object.prototype.toString.call(e)){case"[object Array]":case"[object Object]":case"[object String]":case"[object Boolean]":case"[object Function]":return e;case"[object Number]":return!!e;default:return n}}function o(){l.paused&&l.play()}function i(){l.paused||l.pause()}function r(){U.REPLAY(),m.REPLAY();var e=l.ended;l.currentTime=0,e&&l.play()}function a(){l.muted=!0}function c(){l.muted=!1}function u(){l.paused&&!l.ended?o():i(),l.ended&&r()}function E(){l.muted?c():a()}if("object"!=typeof e)throw new Error("No config");if(!e.container||"function"!=typeof e.container.gotoAndStop)throw new Error("No container object");if(!e.videos)throw new Error("Nothing to play");var l,A,d,f,p,s,b,D=e.container,T=!!e.loop&&e.loop,R=!e.muted||e.muted,P=!!e.autoplay&&e.autoplay,v=e.callbacks||{},y=e.controls||{},_="string"==typeof e.preload&&e.preload.length>0?e.preload:"auto",N={fn:function(e){},visible:!1,gotoAndStop:function(e){}},g={INIT:function(){n(l,"error",g.ERROR),n(l,"loadedmetadata",g.LOADEDMETADATA),n(l,"playing",g.PLAYING),n(l,"progress",g.PROGRESS),n(l,"timeupdate",g.TIMEUPDATE),n(l,"ended",g.ENDED),n(l,"pause",g.PAUSE),n(l,"play",g.PLAY),n(l,"volumechange",g.VOLUMECHANGE)},ERROR:function(e){var n=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][e.target.error.code-1];m.ERROR("Error: "+n)},LOADEDMETADATA:function(e){U.START(),m.META(e)},PLAYING:function(e){U.PLAYING(),m.PLAYING(e)},PROGRESS:function(e){m.READY(e)},TIMEUPDATE:function(e){m.UPDATE(e)},ENDED:function(e){T?(r(),m.REPLAY()):(m.END(e),U.ENDED())},PAUSE:function(e){U.PAUSED(),m.PAUSE(e)},PLAY:function(e){b.visible&&(b.visible=!1),U.PLAYING(),m.PLAY(e)},VOLUMECHANGE:function(e){e.target.muted?(0,U.MUTED(),m.MUTE(e)):(e.target.volume,U.UNMUTED(),m.UNMUTE(e))}},U={INIT:function(){y.play_btn?(n(d=y.play_btn,"click",u),d.visible=!1):d=N,y.sound_btn?(n(f=y.sound_btn,"click",E),f.visible=!1):f=N,y.replay_btn?(n(p=y.replay_btn,"click",r),p.visible=!1):p=N,s=y.preloader_mc?y.preloader_mc:N,b=y.poster_mc?y.poster_mc:N,P&&(s.visible=!0)},START:function(){d.visible=!0,f.visible=!0,l.autoplay?U.PLAYING():U.PAUSED(),l.muted?U.MUTED():U.UNMUTED(),s.visible=!1},PLAYING:function(){d.gotoAndStop(1)},PAUSED:function(){d.gotoAndStop(0)},MUTED:function(){f.gotoAndStop(1)},UNMUTED:function(){f.gotoAndStop(0)},ENDED:function(){d.visible=!1,f.visible=!1,p.visible=!0},REPLAY:function(){d.visible=!0,f.visible=!0,p.visible=!1}},m={META:t(v.on_meta,N.fn),READY:t(v.on_ready,N.fn),START:t(v.on_start,N.fn),END:t(v.on_end,N.fn),REPLAY:t(v.on_replay,N.fn),PLAYING:t(v.on_playing,N.fn),UPDATE:t(v.on_update,N.fn),PLAY:t(v.on_play,N.fn),PAUSE:t(v.on_pause,N.fn),MUTE:t(v.on_mute,N.fn),UNMUTE:t(v.on_unmute,N.fn),ERROR:t(v.on_error,N.fn)};return(l=document.createElement("video")).setAttribute("src",function(e){var n;if("[object Array]"===Object.prototype.toString.call(e)){for(var t=0,o=e.length;t<o;t++)if(l.canPlayType(e[t].replace(/^.+\./gi,"video/"))){n=e[t];break}}else"[object String]"===Object.prototype.toString.call(e)&&l.canPlayType(e.replace(/^.+\./gi,"video/"))&&(n=e);return n}(e.videos)),l.muted=R,l.preload=_,l.autoplay=P,A=new createjs.Bitmap(l),D.addChild(A),g.INIT(),U.INIT(),{video:l,play:o,pause:i,restart:r,mute:a,unmute:c,togglePlay:u,toggleMute:E}}